(()=>{"use strict";let f;function a(l){try{const e=function v(l){if(0==l.length){let e=0;for(let u=0;u<9;u++)for(let o=0;o<9;o++)e=3*Math.floor(u/3)+Math.floor(o/3),l.push({value:0,row:u,column:o,box:e,visible:!1,possibleValues:s()})}else for(let e=0;e<l.length;e++)l[e].value=0,l[e].visible=!1,l[e].possibleValues=s();return l}(l.startingBoard),u=i(e);if(u){const o=function m(l,e){let u=0,o=[];if(0==l)return e.forEach(r=>r.visible=!0),e;for(;u<l;){const r=e.filter(c=>0!=c.value),t=r[Math.floor(Math.random()*r.length)];if(0!=t.value){const c=t.value;t.value=0,o=[],u++;for(let n=0;n<e.length;n++)o[n]={value:e[n].value,row:e[n].row,column:e[n].column,box:e[n].box,visible:0!=e[n].value,possibleValues:s()};i(o)||(t.value=c,u--)}}for(let r=0;r<o.length;r++)o[r].possibleValues=o[r].visible?[]:s();return o}(81-l.givenNumbers,u);postMessage(o)}}catch{a(l)}}function i(l){const e=function b(l){for(let e=0;e<l.length;e++)if(0==l[e].value)return l[e];return!1}(l);if(!e)return l;if(f++,f>5e5)throw new Error("Recursion Timeout");const u=s();for(let o=0;o<u.length;o++){let r=u[o];if(x(e,r,l)){if(l[9*e.row+e.column].value=r,i(l))return l;l[9*e.row+e.column].value=0}}return!1}function x(l,e,u){return function h(l,e,u){let o=u.filter(t=>t.row===l),r=!0;return o.every(t=>t.value!==e||(r=!1,!1)),r}(l.row,e,u)&&function p(l,e,u){let o=u.filter(t=>t.column===l),r=!0;return o.every(t=>t.value!==e||(r=!1,!1)),r}(l.column,e,u)&&function w(l,e,u){let o=u.filter(t=>t.box===l),r=!0;return o.every(t=>t.value!==e||(r=!1,!1)),r}(l.box,e,u)}function s(){return function V(l){return l.map(e=>({value:e,sort:Math.random()})).sort((e,u)=>e.sort-u.sort).map(({value:e})=>e)}([1,2,3,4,5,6,7,8,9])}addEventListener("message",({data:l})=>{f=0,a(l)})})();