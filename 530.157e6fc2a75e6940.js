(()=>{"use strict";let f;function i(l){try{const e=function a(l){if(0==l.length){let e=0;for(let r=0;r<9;r++)for(let t=0;t<9;t++)e=3*Math.floor(r/3)+Math.floor(t/3),l.push({value:0,row:r,column:t,box:e,visible:!1})}else for(let e=0;e<l.length;e++)l[e].value=0,l[e].visible=!1;return l}(l.startingBoard),r=s(e);if(r){const t=function v(l,e){let r=0,t=[];if(0==l)return e.forEach(u=>u.visible=!0),e;for(;r<l;){const u=e.filter(c=>0!=c.value),o=u[Math.floor(Math.random()*u.length)];if(0!=o.value){const c=o.value;o.value=0,t=[],r++;for(let n=0;n<e.length;n++)t[n]={value:e[n].value,row:e[n].row,column:e[n].column,box:e[n].box,visible:0!=e[n].value};s(t)||(o.value=c,r--)}}return t}(81-l.givenNumbers,r);postMessage(t)}}catch{i(l)}}function s(l){const e=function m(l){for(let e=0;e<l.length;e++)if(0==l[e].value)return l[e];return!1}(l);if(!e)return l;if(f++,f>5e5)throw new Error("Recursion Timeout");const r=function x(){return function y(l){return l.map(e=>({value:e,sort:Math.random()})).sort((e,r)=>e.sort-r.sort).map(({value:e})=>e)}([1,2,3,4,5,6,7,8,9])}();for(let t=0;t<r.length;t++){let u=r[t];if(p(e,u,l)){if(l[9*e.row+e.column].value=u,s(l))return l;l[9*e.row+e.column].value=0}}return!1}function p(l,e,r){return function h(l,e,r){let t=r.filter(o=>o.row===l),u=!0;return t.every(o=>o.value!==e||(u=!1,!1)),u}(l.row,e,r)&&function b(l,e,r){let t=r.filter(o=>o.column===l),u=!0;return t.every(o=>o.value!==e||(u=!1,!1)),u}(l.column,e,r)&&function w(l,e,r){let t=r.filter(o=>o.box===l),u=!0;return t.every(o=>o.value!==e||(u=!1,!1)),u}(l.box,e,r)}addEventListener("message",({data:l})=>{f=0,i(l)})})();