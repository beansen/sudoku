(()=>{"use strict";let i;function v(l){try{const e=function m(l){if(0==l.length){let e=0;for(let o=0;o<9;o++)for(let t=0;t<9;t++)e=3*Math.floor(o/3)+Math.floor(t/3),l.push({value:0,row:o,column:t,box:e,visible:!1,possibleValues:s()})}else for(let e=0;e<l.length;e++)l[e].value=0,l[e].visible=!1,l[e].possibleValues=s();return l}(l.startingBoard),o=a(e);if(o){const t=function b(l,e){let o=0,t=[];for(;o<l;){const r=e.filter(c=>0!=c.value),f=r[Math.floor(Math.random()*r.length)];if(0!=f.value){const c=f.value;f.value=0,t=[],o++;for(let n=0;n<e.length;n++)t[n]={value:e[n].value,row:e[n].row,column:e[n].column,box:e[n].box,visible:0!=e[n].value,possibleValues:s()};a(t)||(f.value=c,o--)}}for(let r=0;r<t.length;r++)t[r].possibleValues=t[r].visible?[]:s();return t}(81-l.givenNumbers,o);postMessage(t)}}catch{v(l)}}function a(l){const e=function h(l){for(let e=0;e<l.length;e++)if(0==l[e].value)return l[e];return!1}(l);if(!e)return l;if(i++,i>5e5)throw new Error("Recursion Timeout");const o=s();for(let t=0;t<o.length;t++){let u=o[t];if(V(e,u,l)){if(l[9*e.row+e.column].value=u,a(l))return l;l[9*e.row+e.column].value=0}}return!1}function V(l,e,o){return function p(l,e,o){let t=o.filter(r=>r.row===l),u=!0;return t.every(r=>r.value!==e||(u=!1,!1)),u}(l.row,e,o)&&function w(l,e,o){let t=o.filter(r=>r.column===l),u=!0;return t.every(r=>r.value!==e||(u=!1,!1)),u}(l.column,e,o)&&function x(l,e,o){let t=o.filter(r=>r.box===l),u=!0;return t.every(r=>r.value!==e||(u=!1,!1)),u}(l.box,e,o)}function s(){return function y(l){return l.map(e=>({value:e,sort:Math.random()})).sort((e,o)=>e.sort-o.sort).map(({value:e})=>e)}([1,2,3,4,5,6,7,8,9])}addEventListener("message",({data:l})=>{i=0,v(l)})})();