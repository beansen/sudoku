(()=>{"use strict";let s;function i(l){try{const e=function v(l){if(0==l.length){let e=0;for(let r=0;r<9;r++)for(let o=0;o<9;o++)e=3*Math.floor(r/3)+Math.floor(o/3),l.push({value:0,row:r,column:o,box:e,visible:!1})}else for(let e=0;e<l.length;e++)l[e].value=0,l[e].visible=!1;return l}(l.startingBoard),r=c(e);if(r){const o=function m(l,e){let r=0,o=[];if(0==l)return e.forEach(u=>u.visible=!0),e;let t=Math.floor(9*Math.random())+1;for(;r<l;){const u=e.filter(a=>a.value==t),f=u[Math.floor(Math.random()*u.length)];if(0!=f.value){const a=f.value;f.value=0,o=[],r++;for(let n=0;n<e.length;n++)o[n]={value:e[n].value,row:e[n].row,column:e[n].column,box:e[n].box,visible:0!=e[n].value};c(o)?(t++,10==t&&(t=1)):(f.value=a,r--)}}return o}(81-l.givenNumbers,r);postMessage(o)}}catch{i(l)}}function c(l){const e=function h(l){for(let e=0;e<l.length;e++)if(0==l[e].value)return l[e];return!1}(l);if(!e)return l;if(s++,s>5e5)throw new Error("Recursion Timeout");const r=function y(){return function M(l){return l.map(e=>({value:e,sort:Math.random()})).sort((e,r)=>e.sort-r.sort).map(({value:e})=>e)}([1,2,3,4,5,6,7,8,9])}();for(let o=0;o<r.length;o++){let t=r[o];if(x(e,t,l)){if(l[9*e.row+e.column].value=t,c(l))return l;l[9*e.row+e.column].value=0}}return!1}function x(l,e,r){return function b(l,e,r){let o=r.filter(u=>u.row===l),t=!0;return o.every(u=>u.value!==e||(t=!1,!1)),t}(l.row,e,r)&&function w(l,e,r){let o=r.filter(u=>u.column===l),t=!0;return o.every(u=>u.value!==e||(t=!1,!1)),t}(l.column,e,r)&&function p(l,e,r){let o=r.filter(u=>u.box===l),t=!0;return o.every(u=>u.value!==e||(t=!1,!1)),t}(l.box,e,r)}addEventListener("message",({data:l})=>{s=0,i(l)})})();